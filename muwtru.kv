BoxLayout:
	orientation: "vertical"
	WindowManager:
		id: sm
		MainWindow:
		SecondWindow:
		ThirdWindow:
		ForthWindow:
		FifthWindow:
		SixthWindow:
		SeventhWindow:
		EighthWindow:
		NinthWindow:
		TenthWindow:
		SearchWindow:
		AdminPanel:

<ReturnHomeButton>:
#:import Factory kivy.factory.Factory
<MyPopup@Popup>:
    auto_dismiss: False
    Button:
        text: 'Close me!'
        on_release: root.dismiss()


<MainWindow>:
    name: "Main"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            orientation: "vertical"
            size_hint_y: None
            padding: 25
            height: dp(150)
            Image:
                source: 'assets/navigation_tools/login_icon.png'
                size_hint: 1, 1


        BoxLayout:
            orientation: "vertical"
            padding: 25
            spacing: 20
            Label:
                text: "Email: "
                font_name: 'Poppins-Regular'
                size_hint: (.7, 0.3)
                pos_hint: {'center_x': .5}

            CustomTextInput:
                size_hint_y: None
                height: dp(40)
                id: email
                font_name: 'Poppins-Regular'
                multiline: False
                font_size: 18
                #padding_y: (10, 10)
                pos_hint: {'center_x': .5}

            Label:
                text: "Password: "
                font_name: 'Poppins-Regular'
                halign: 'left'
                size_hint: (.7, 0.3)
                pos_hint: {'center_x': .5}

            CustomTextInput:
                size_hint_y: None
                height: dp(40)
                id: passw
                multiline: False
                font_name: 'Poppins-Regular'
                password: True
                font_size: 18
                pos_hint: {'center_x': .5}
            RoundedPurpleButton:
                text: "login"
                size_hint: .9, None
                height: dp(40)
                color: 'black'
                pos_hint: {'center_x': .5}
                font_name: 'Poppins-Bold.ttf'
                on_release:
                    root.login(email.text, passw.text)
                    root.manager.transition.direction = "left"

            Button:
                text: "don\'t have account ah?\ncreate a new account"
                size_hint: .8, None
                height: dp(40)
                pos_hint: {'center_x': .5}
                background_color: 'brown'
                on_release:
                    #Factory.MyPopup().open()
                    app.root.ids['sm'].current = "Sixth"
                    root.manager.transition.direction = "left"

            Label:
                id: notice_banner
                size_hint: .7, None
                pos_hint: {'center_x': .5}
                height: dp(40)
                opacity: 0
                text: "[b][/b]"
                markup: True
                font_name: "Poppins-Regular"
                font_size: sp(18)
                canvas.before:
                    Color:
                        rgba: (1,0,0, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [6]
            Widget:


<SecondWindow>:
    name: "Second"
	#:import NavBar components.widgets.nav_bar.NavBar
	##:import HomeSubjects components.widgets.home_subjects.HomeSubjects
    GridLayout:
        cols: 1
        rows: 3

        BoxLayout:
            size_hint_y: None
            height: dp(50)
			pos_hint: {'top': 1}
			background_normal: ''
			canvas.before:
				Color:
					rgba: (107/255, 22/255, 138/155, 1)
				RoundedRectangle:
					size: self.size
					pos: self.pos
					radius: [12]
			BoxLayout:
				size_hint: (1, 1)
				Button:
					background_normal: 'assets/navigation_tools/quarry.png'
					size_hint: (.15, 1)
					size: dp(62), dp(62)
					on_release:
						root.manager.current = "Search"
						root.manager.transition.direction = "right"
				Label:
					id: navbar_greeting
					text: root.greeting
					halign: 'center'
					size_hint: (.55, 1)
					font_size: sp(18)
					font_name: 'Poppins-Bold'
				Button:
				    size_hint: .15, 1
					background_normal: "assets/navigation_tools/upload_icon.png"
					size_hint: None, None
					id: upload_right
					disabled: True
					opacity: 0
					size: dp(55), dp(55)
					pos_hint: {'center_y': .5}
					on_press:
						root.manager.current = 'Admin'
						root.manager.transition.direction = "left"

				Button:
				    size_hint: .15, 1
					background_normal: "assets/navigation_tools/account.png"
					size_hint: None, None
					size: dp(62), dp(62)
					pos_hint: {'center_y': .5}
					on_press:
						root.manager.current = 'Seventh'
						root.manager.transition.direction = "left"

        ScrollView:
            orientation: 'vertical'
            do_scroll_y: True
            do_scroll_x: False
            HomeSubjects:
            	cols: 2
				rows: 4
				padding: 20
				spacing: 20
				size_hint_y: None
				height: dp(900)
				pos_hint: {'center_x': .5, 'center_y': .4}

				Button:
					background_normal: "assets/images/lectures.png"
					on_release:
						root.forthWB()
						# app.root.current = "Forth"
						# root.manager.transition.direction = "right"

				Button:
					background_normal: "assets/images/math.png"
					on_release:
						root.thirdWB("Mathematics")
						# app.root.current = "Third"
						# root.manager.transition.direction = "right"

				Button:
					background_normal: "assets/images/physics.png"
					on_release:
						root.thirdWB("Physics")
						#app.root.ids['sm'].current = "Fifth"
						# root.manager.transition.direction = "right"

				Button:
					background_normal: "assets/images/chemistry.png"
					on_release:
						root.thirdWB("Chemistry")
						# root.manager.transition.direction = "right"

				Button:
					background_normal: "assets/images/bio.png"
					on_release:
						root.thirdWB("Biology")
						# root.manager.transition.direction = "right"

				Button:
					background_normal: "assets/images/gk.png"
					on_release:
						root.thirdWB("G,K")
						# root.manager.transition.direction = "right"

				Button:
					background_normal: "assets/images/ca.png"
					on_release:
						root.thirdWB("Current Afair")
						# root.manager.transition.direction = "right"

		# end scroll-view


        BoxLayout:
            size_hint_y: None
            height: dp(40)
            Label:
                text: 'CLASSMATE CLASSES VARANASI'
                font_size: sp(16)
                color: 'yellow'
                font_name: 'Poppins-Bold'

<ThirdWindow>:
    name: "Third"
    ##:import ChapterList components.widgets.chapter_list.ChapterList

    CustomLimeCardBaxLayout:
    	orientation: 'vertical'

		BoxLayout:
			height: dp(50)
			size_hint_y: None
			BoxLayout:
				size_hint: 1, 1
				pos_hint: {'top': 1}
				background_normal: ''
				canvas.before:
					Color:
						rgba: (107/255, 22/255, 138/155, 1)
					RoundedRectangle:
						size: self.size
						pos: self.pos
						radius: [12]
				BoxLayout:
					size_hint: .25, 1
					ReturnHomeButton:
						background_normal: 'assets/navigation_tools/arrow_back.png'
						size_hint: None, None
						size: dp(50), dp(50)
						pos_hint: {'center_y': .5}

				Label:
					id: nav_name
					size_hint: .45, 1
					pos_hint: {'center_x': .2}
					font_size: sp(20)
					font_name: 'Poppins-Bold'
				BoxLayout:
					size_hint: .3, 1
					Spinner:
						text: "12th"
						background_color: (255, 255, 255, 0)
						values: '11th', '10th', '9th', '8th'

					Button:
						background_normal: "assets/navigation_tools/vertical_icon.png"
						size_hint: None, None
						size: dp(50), dp(50)
						pos_hint: {'center_y': .5}
						on_press:
							app.root.current = 'Seventh'
							#root.manager.transition.direction = "left"
		BoxLayout:
			orientation: 'vertical'
			padding: dp(10)
			spacing: dp(10)
			BoxLayout:
				orientation: 'vertical'
				RecycleView:
					viewclass: 'EachChapterButton'
					id: rv
					data: root.subject_details
					#scroll_type: ['bars', 'content']
					#bar_width: 10
					RecycleBoxLayout:
						orientation: 'vertical'
						padding: dp(10)
						spacing: dp(10)
						default_size: None, dp(60)
						default_size_y: 1, None
						size_hint_y: None
						height: self.minimum_height

<EachChapterButton>:
	font_name: "Poppins-Medium"
	background_color: (0,0,0,0)
	background_normal: ''
	width: dp(265)
	canvas.before:
		Color:
			rgba: (169/255,22/255,255,1) if self.state == 'normal' else (255/255,71/255,197/255,1)
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius: [18]

<ForthWindow>:
	#:import ClassesTabs components.widgets.classes_tabs.ClassesTabs
    name: "Forth"

	BoxLayout:
		orientation: 'vertical'
		adaptive_height: True
		NavBarPdf:
			height: dp(50)
			size_hint_y: None
			text: 'Classes'

		ClassesTabs:

<FifthWindow>:
    name: "Fifth"
	BoxLayout:
		orientation: "vertical"

		ScrollView:
			do_scroll_x: False
			do_scroll_y: True

			Label:
				id: java
				size_hint_y: None
				height: dp(500)
				text_size: self.width, None
				size: self.texture_size
				padding: 10, 10
		Button:
			text: "back"
			background_color: 'blue'
			size_hint: (1,None)
			height: dp(30)
			on_release:
				app.root.ids['sm'].current = "Second"
				root.manager.transition.direction = "left"

<SixthWindow>:
    name: "Sixth"

    BoxLayout:
        orientation: "vertical"
        Label:
            id: create_pass
            text: 'Create an account'
            font_name: 'Poppins-regular'
            font_size: 20
            pos_hint: {'center_x': .5, 'center_y': .85}
            color: 'yellow'
            size_hint: 1, None
            height: dp(40)


        GridLayout:
            rows: 11
            padding: 30
            spacing: 10
            #size_hint: (1, .6)
            #pos_hint: {'center_x': .5, 'center_y': .5}


            Label:
                text: "Your name: "
                font_name: 'Poppins-Regular'
                size_hint: (.7, 0.2)

            TextInput:
                id: new_name
                font_name: 'Poppins-Regular'
                hint_text: 'name here'
                multiline: False
                font_size: sp(17)
                size_hint: (.7, 0.25)


            Label:
                text: "Class: "
                font_name: 'Poppins-Regular'
                size_hint: (.7, 0.1)

            TextInput:
                id: new_class
                font_name: 'Poppins-Regular'
                hint_text: 'class here i.e. 9,10,11,12'
                multiline: False
                font_size: sp(17)
                size_hint: (.7, 0.25)

            Label:
                text: "Email: "
                size_hint: (.7, 0.1)
                font_name: 'Poppins-Regular'

            TextInput:
                id: new_email
                font_name: 'Poppins-Regular'
                hint_text: 'email here'
                multiline: False
                font_size: sp(17)
                size_hint: (.7, 0.25)

            Label:
                text: "Create password: "
                size_hint: (.7, 0.1)
                font_name: 'Poppins-Regular'

            TextInput:
                id: new_passw
                font_name: 'Poppins-Regular'
                hint_text: 'enter here'
                multiline: False
                font_size: sp(17)
                size_hint: (.7, 0.25)
            Label:
                text: "Create again password: "
                size_hint: (.7, 0.1)
                font_name: 'Poppins-Regular'

            TextInput:
                id: new_passw2
                font_name: 'Poppins-Regular'
                hint_text: 'enter here'
                multiline: False
                font_size: sp(17)
                size_hint: (.7, 0.25)

            BoxLayout:
                Button:
                    text: "create and save"
                    font_name: 'Poppins'
                    size_hint: (.6, 0.4)
                    background_color: 'blue'
                    on_release:
                        root.save_user_data(new_name.text, new_class.text, new_email.text, new_passw.text, new_passw2.text)
                        root.manager.transition.direction = "left"

<SeventhWindow>:
	name: "Seventh"

	RelativeLayout:
		pos_hint: {"center_x": .5, "center_y": .8}
		size_hint: None, None
		height: dp(150)
		width: dp(150)
		orientation: 'vertical'
		canvas:
            Color:
                rgb: 1, 1, 1
            Ellipse:
                pos: 280/280, 200/150
                size: 150 , 150
                angle_start: 0
                angle_end: 360
                source: root.profile

	Label:
	    id: user_name
		text: 'Virat Kohli'
		font_name: 'Poppins-Bold'
		color: '#0D0615'
		pos_hint: {'center_x': .5, 'center_y': .6}

	GridLayout:
		rows: 5
		spacing: 5
		size_hint: (.7, .5)
		pos_hint: {'center_x': .5, 'center_y': .3}

		RoundedButton:
			text: 'Account'
			#background_color: '#FF8DE0'
			size_hint: (1, .2)
			on_release:
				app.root.ids['sm'].current = "Admin"

		RoundedButton:
			text: 'Settings'
			#background_color: '#FF8DE0'
			size_hint: (1, .2)
		RoundedButton:
			text: 'About app'
			#background_color: '#FF8DE0'
			size_hint: (1, .2)
			on_release:
				app.root.ids['sm'].current = "Fifth"
		RoundedButton:
			text: 'Downloads latest version'
			#background_color: '#FF8DE0'
			size_hint: (1, .2)

		ReturnHomeButton:
			text: 'back'
			size_hint: (.8, .2)
			background_color: 'blue'
			pos_hint: {'center_x': .5, 'center_y': .1}
			on_release:
				app.root.current = "Second"

<EighthWindow>:
	name: "Eight"

	CustomWhiteCard:
	    orientation: "vertical"
		BoxLayout:
            size_hint: 1, None
            height: dp(50)
            pos_hint: {'top': 1}
            background_normal: ''
            canvas.before:
                Color:
                    rgba: (107/255, 22/255, 138/155, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [12]
            BoxLayout:
                size_hint: .25, 1
                ReturnHomeButton:
                    background_normal: 'assets/navigation_tools/arrow_back.png'
                    size_hint: None, None
                    size: dp(50), dp(50)
                    pos_hint: {'center_y': .5}

            Label:
                id: notice_sub
                text: ''
                size_hint: .45, 1
                pos_hint: {'center_x': .2}
                font_size: sp(20)
                font_name: 'Poppins-Bold'
            BoxLayout:
                size_hint: .3, 1
                Widget:

                Button:
                    background_normal: "assets/navigation_tools/vertical_icon.png"
                    size_hint: None, None
                    size: dp(50), dp(50)
                    pos_hint: {'center_y': .5}
                    on_press:
                        app.root.current = 'Seventh'
                        #root.manager.transition.direction = "left"

        CustomWhiteCard:
            orientation: "vertical"
            Label:
                id: subject_notice
                markup: True
                text: "[b]No Data Found![/b]"
                color: "black"

            RoundedButton:
                text: "Back"
                size_hint: .5, .1
                pos_hint: {'center_x': .5}
                on_release:
                    app.root.ids['sm'].current = "Second"


<NinthWindow>:
	name: "Ninth"
	BoxLayout:
		orientation: "vertical"
		spacing: 10
		padding: 2
		CustomNavCard:
			pos_hint: {"top": 1}
			size_hint: (1, None)
			height: dp(50)
			Button:
				background_normal: 'assets/navigation_tools/arrow_back.png'
				size_hint: None, None
				size: dp(50), dp(50)
				on_release:
					app.root.ids['sm'].current = "Third"
			Label:
				pos_hint: {'center_y': .5}
				id: chapter_index
				font_name: "Poppins-Bold"
			Label:
				id: class_
				size_hint: None, None
				size: dp(50), dp(50)
		CustomWhiteCard:
			pos_hint: {"center_x": .5}
			size_hint: (.8, None)
			height: dp(40)
			Label:
				id: chapter_name
				color: "black"
				font_name: "Poppins-Medium"

		CustomWhiteCard:
			orientation: "vertical"
			pos_hint: {"center_x": .5}
			size_hint: (.8, .1)
			height: self.height
			Label:
				id: desc
				text: "description"
				color: "black"
		CustomWhiteCard:
			size_hint: (.8, .1)
			pos_hint: {"center_x": .5}
			Label:
				id: upload_date
				color: "orange"

		CustomWhiteCard:
			padding: 10
			spacing: 10
			size_hint: (.9, 1)
			pos_hint: {"center_x": .5}
			ScrollView:
				do_scroll_y: True
				do_scroll_x: False
				CustomLabelBaxLayout:
					spacing: 30
					padding: 5
					size_hint: (1, None)
					height: dp(50)
					orientation: "horizontal"
					Label:
						id: pdf_cloud_dir
						text: 'page 1'
						opacity: 0
					Button:
						text: "view"
						on_release:
							root.view_pdf_image(pdf_cloud_dir.text, class_.text, chapter_name.text)
<PdfImage>:
    Scatter:
        id: scatter
        size_hint: None, None
        size: image.size

        Image:
            id: image
            size: self.texture_size
            size_hint: self.height, self.width
            source: root.image_source


<TenthWindow>:
	name: "Tenth"
	BoxLayout:
		orientation: 'vertical'
		BoxLayout:
            size_hint: 1, None
            height: dp(40)
            pos_hint: {'top': 1}
            background_normal: ''
            canvas.before:
                Color:
                    rgba: (107/255, 22/255, 138/155, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [12]
            BoxLayout:
                size_hint: .25, 1
                Button:
                    background_normal: 'assets/navigation_tools/arrow_back.png'
                    size_hint: None, None
                    size: dp(50), dp(50)
                    pos_hint: {'center_y': .5}
                    on_press:
                        app.root.ids['sm'].current = 'Third'

            Label:
                id: pdf_screen
                text: ''
                size_hint: .45, 1
                pos_hint: {'center_x': .2}
                font_size: sp(20)
                font_name: 'Poppins-Bold'
            BoxLayout:
                size_hint: .3, 1
                Widget:

                Button:
                    background_normal: "assets/navigation_tools/vertical_icon.png"
                    size_hint: None, None
                    size: dp(50), dp(50)
                    pos_hint: {'center_y': .5}

        BoxLayout:
            orientation: 'vertical'
            RecycleView:
                viewclass: 'PdfImage'
                id: rv
                data: root.pdf_image_list
                scroll_type: ['bars', 'content']
                bar_width: 10
                RecycleBoxLayout:
                    orientation: 'vertical'
                    padding: dp(10)
                    spacing: dp(10)
                    default_size: None, dp(830)
                    default_size_y: 1, None
                    size_hint_y: None
                    height: self.minimum_height


<SearchWindow>:
	name: 'Search'
	BoxLayout:
	    canvas.before:
	        Color:
	            rgba: (1,1,1,1)
	        Rectangle:
	            size: self.size
	            pos: self.pos
		padding: 10
		spacing: 2
		orientation: 'vertical'
		BoxLayout:
			height: dp(40)
			pos_hint: {'top': 1}
			size_hint_y: None
			Label:
				text: "[b]Classmate Classes Varanasi[/b]"
				font_size: sp(16)
				markup: True
				color: 'black'
				font_name: 'Poppins'
				size_hint: (.85, 1)
			RoundedSearchButton:
				text: '-->'
				opacity: 3
				size_hint: (.15, 1)
				on_release:
					app.root.ids['sm'].current = "Second"
					root.manager.transition.direction = "left"
		BoxLayout:
			height: dp(40)
			pos_hint: {'top': 1}
			size_hint_y: None
			padding: 2
			TextInput:
				size_hint: (.8, 1)
				hint_text: 'ask me anything'
				font_size: sp(20)
				id: search
				multiline: False
				on_text_validate:
				    root.wiki(search.text)
			RoundedSearchButton:
			    id: search_button
				size_hint: (.2, 1)
				text: 'Search' if self.state == "normal" else "wait"
				font_name: 'Poppins-Italic'
				on_release:
					root.wiki(search.text)

		BoxLayout:
			RstDocument:
				id: result
				text: 'ask me any topic!'
				color: 'black'
				size_hint: 1, 1
				text_size: self.width, None

<AdminPanel>:
	name: "Admin"
	#:import UploadTabs components.widgets.admin_upload_panel.UploadTabs
	BoxLayout:
		orientation: "vertical"
		UploadTabs:




